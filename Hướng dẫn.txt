Hệ thống Chess Game API với kiến trúc 3 tầng:
- Backend: Flask API (Python) - cổng 5000
- Game Server: C Server - cổng 8888  
- Database: PostgreSQL
- Frontend: React (tham khảo, không bắt buộc)

YÊU CẦU HỆ THỐNG

Công cụ cần thiết:
- GCC: Compiler cho C server
- Python 3.8+: Chạy Flask backend
- PostgreSQL: Database
- Git: Clone repository

HƯỚNG DẪN CÀI ĐẶT

Bước 1:
cd backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

Bước 2:
- Cài đặt C compiler tools
        sudo apt install build-essential

Bước 3: Thiết lập Database
    - Tạo database và user: sudo -u postgres psql

Database như của Vân Anh tạo

Import database schema
    psql -U chess_user -d chess_db -f Database.sql
    Password: chess_password


Bước 4: Build C Server

    cd server-c
    make clean
    make
    cd ..


Nếu build thành công, file executable sẽ có tại: `server-c/bin/chess_server`
------------------------------------------------------------------------------------
CHẠY HỆ THỐNG

Mở 2 terminal riêng biệt:

Terminal 1 - Chạy C Server:

cd server-c
./bin/chess_server

Terminal 2 - Chạy Flask Backend:

cd backend
source venv/bin/activate   # Kích hoạt virtual environment
python app.py

api test là

1. Request: Tạo trận đấu (POST /game/start)

        Name: Start Game
        Method: POST
        URL: http://localhost:5000/api/game/start
        Headers:
        Content-Type: application/json

        Body (raw, JSON):json{
        "player1_id": 1,
        "player1_name": "Magnus",
        "player2_id": 2,
        "player2_name": "Hikaru"
        }

2. Request: Gửi nước đi hợp lệ (POST /game/move)

Name: Move e2e4 (White)
Method: POST
URL: http://localhost:5000/api/game/move
Headers:
Content-Type: application/json

Body (raw, JSON):json{
  "match_id": {{match_id}},
  "player_id": 1,
  "from_square": "e2",
  "to_square": "e4"
}
{{match_id}} là biến môi trường từ request Start Game.

Request: Gửi nước đi không hợp lệ (POST /game/move)

Name: Invalid Move h2h5
Method: POST
URL: http://localhost:5000/api/game/move
Body:json{
  "match_id": {{match_id}},
  "player_id": 1,
  "from_square": "h2",
  "to_square": "h5"
}

4. Request: Sai lượt (POST /game/move)

Name: Wrong Turn e2e3 (White)
Method: POST
URL: http://localhost:5000/api/game/move
Body:json{
  "match_id": {{match_id}},
  "player_id": 1,
  "from_square": "e2",
  "to_square": "e3"
}

5. Request: Checkmate (Scholar's Mate)

Name: Scholar's Mate
Method: POST
URL: http://localhost:5000/api/game/move
Chuỗi request (tạo riêng trận mới):
e2e4, e7e5, d1h5, b8c6, f1c4, g8f6, h5f7 (checkmate).
Body cuối (h5f7):json{
  "match_id": {{match_id}},
  "player_id": 1,
  "from_square": "h5",
  "to_square": "f7"
}

6. Request: Lấy lịch sử (GET /history/replay/{match_id})

Name: Replay Match
Method: GET
URL: http://localhost:5000/api/history/replay/{{match_id}}





tớ bảo chat tạo script chạy sẵn 1 test case full trận ở file test_api.sh
mn có thể bật 2 server lên r chạy test case này
bằng lệnh ./test_api.sh
